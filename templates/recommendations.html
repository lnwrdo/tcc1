<script>
    document.addEventListener("DOMContentLoaded", function() {
        const items = document.querySelectorAll(".recommendation-item");

        items.forEach(item => {
            const movieId = item.getAttribute("data-movie-id");

            // Adicione a sua chave da API aqui
            const apiKey = "SUA_CHAVE_DA_API";

            // URL para obter as informações do filme, incluindo o pôster
            fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=pt-BR`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error("Erro na resposta da API");
                    }
                    return response.json();
                })
                .then(data => {
                    console.log("Dados do filme:", data); // Debug: Verifique os dados no console
                    const imgElement = item.querySelector(".poster-img");

                    // Verifique se o poster_path existe antes de definir a URL
                    if (data.poster_path) {
                        imgElement.src = `https://image.tmdb.org/t/p/w500${data.poster_path}`;
                        imgElement.alt = `Pôster de ${data.title}`;
                    } else {
                        console.warn(`Pôster não disponível para o filme ID: ${movieId}`);
                        imgElement.alt = "Pôster não disponível";
                    }
                })
                .catch(error => console.error("Erro ao carregar pôster:", error));
        });
    });
</script>
