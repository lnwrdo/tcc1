<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Recomendações de Filmes</title>
    <style>
        /* ... (estilos existentes) ... */
        .poster-img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 15px;
            object-fit: cover;
        }
    </style>
</head>
<body class="recommendation-page">
    <h1 class="recommendation-title">OS SEUS FILMES GERADOS FORAM ESSES</h1>
    <ul class="recommendation-list" id="recommendation-list">
        {% for movie in movies %}
            <li class="recommendation-item" data-movie-id="{{ movie['ID'] }}">
                <img class="poster-img" src="" alt="Pôster de {{ movie['Movie Name'] }}" />
                <div class="movie-title">{{ movie['Movie Name'] }}</div>
                <div class="movie-details">
                    <strong>Ano:</strong> {{ movie['Year of Release'] }}<br>
                    <strong>Direção:</strong> {{ movie['Director'] }}<br>
                    <strong>Gênero:</strong> {{ movie['Genre'] }}<br>
                </div>
                <div class="movie-description">{{ movie['Description'] }}</div>
            </li>
        {% endfor %}
    </ul>
    <a href="/" class="back-button">Voltar</a>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const items = document.querySelectorAll(".recommendation-item");

            items.forEach(item => {
                const movieId = item.getAttribute("data-movie-id");
                
                fetch(`https://api.themoviedb.org/3/movie/{movie_id}/images}`)
                    .then(response => response.json())
                    .then(data => {
                        const imgElement = item.querySelector(".poster-img");
                        imgElement.src = data.posterUrl;
                    })
                    .catch(error => console.error("Erro ao carregar pôster:", error));
            });
        });
    </script>
</body>
</html>
